<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–æ—ë —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: Arial, sans-serif; background: #f0f2f5; padding: 20px; }
        .container { max-width: 800px; margin: 0 auto; }
        .card { background: white; padding: 20px; border-radius: 10px; margin-bottom: 15px; }
        .btn { padding: 5px 10px; background: #dc3545; color: white; border: none; border-radius: 3px; cursor: pointer; font-size: 12px; }
        .btn-cancel { background: #dc3545; }
        .btn-cancel:hover { background: #c82333; }
        .status-badge { padding: 3px 8px; border-radius: 10px; font-size: 12px; }
        .status-registered { background: #d4edda; color: #155724; }
        .status-attended { background: #cce5ff; color: #004085; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üìÖ –ú–æ—ë —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ</h1>
        <p>–ü—Ä–∏–≤–µ—Ç, {{.UserName}}! –í–æ—Ç —Ç–≤–æ–∏ –±–ª–∏–∂–∞–π—à–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏:</p>
        
        {{range .Items}}
        <div class="card">
            <h3>{{.Training.GroupName}}</h3>
            <p>üìÖ {{.Training.TrainingDate.Format "02.01.2006"}} –≤ {{.Training.StartTime.Format "15:04"}}</p>
            {{if .Training.CoachName}}
            <p>üë®‚Äçüè´ –¢—Ä–µ–Ω–µ—Ä: {{.Training.CoachName}}</p>
            {{end}}
            
            <div style="margin-top: 10px;">
                {{if eq .Attendance.Status "registered"}}
                <span class="status-badge status-registered">‚úÖ –ó–∞–ø–∏—Å–∞–Ω</span>
                <form method="POST" action="/cancel" style="display: inline; margin-left: 10px;" 
                      onsubmit="return confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –æ—Ç–º–µ–Ω–∏—Ç—å –∑–∞–ø–∏—Å—å?');">
                    <input type="hidden" name="training_id" value="{{.Training.ID}}">
                    <input type="hidden" name="user_id" value="{{$.UserID}}">
                    <button type="submit" class="btn btn-cancel">–û—Ç–º–µ–Ω–∏—Ç—å –∑–∞–ø–∏—Å—å</button>
                </form>
                {{else if eq .Attendance.Status "attended"}}
                <span class="status-badge status-attended">‚úì –ü–æ—Å–µ—â–µ–Ω–æ</span>
                {{end}}
            </div>
        </div>
        {{else}}
        <div class="card" style="text-align: center;">
            <h3>üò¥ –ù–µ—Ç –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</h3>
            <p>–ó–∞–ø–∏—à–∏—Ç–µ—Å—å –Ω–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ —á–µ—Ä–µ–∑ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ —Ç—Ä–µ–Ω–µ—Ä–∞</p>
        </div>
        {{end}}
        
        <div style="margin-top: 20px; text-align: center;">
            <a href="/" style="color: #007bff;">‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é</a>
        </div>
    </div>
</body>
</html>